syntax = "proto3";

package nekzabirov.igambling.v1;

option java_package = "com.nekzabirov.igambling.proto.service";
option java_multiple_files = true;

import "google/protobuf/timestamp.proto";
import "dto/game.dto.proto";
import "dto/game_variant.dto.proto";
import "dto/provider.dto.proto";
import "dto/aggregator.dto.proto";

service Round {
  rpc GetRoundsDetails (GetRoundsDetailsCommand) returns (GetRoundsDetailsResult);
}

message GetRoundsDetailsCommand {
  int32 page_number = 1;

  int32 page_size = 2;

  optional string player_id = 3;

  optional string game_identity = 4;
}

message GetRoundsDetailsResult {
  repeated RoundDetailsDto items = 1;

  int32 total_page = 2;

  int64 total_items = 3;

  int32 current_page = 4;
}

message RoundDetailsDto {
  string id = 1;

  string place_amount = 2;

  string settle_amount = 3;

  optional string free_spin_id = 4;

  string currency = 5;

  GameWithDetailsDto game = 6;

  bool is_finished = 7;

  google.protobuf.Timestamp created_at = 8;

  optional google.protobuf.Timestamp finished_at = 9;
}

message GameWithDetailsDto {
  string id = 1;

  string identity = 2;

  string name = 3;

  map<string, string> images = 4;

  bool bonus_bet_enable = 5;

  bool bonus_wagering_enable = 6;

  repeated string tags = 7;

  string symbol = 8;

  bool free_spin_enable = 9;

  bool free_chip_enable = 10;

  bool jackpot_enable = 11;

  bool demo_enable = 12;

  bool bonus_buy_enable = 13;

  repeated string locales = 14;

  repeated string platforms = 15;

  int32 play_lines = 16;

  ProviderDto provider = 17;

  AggregatorDto aggregator = 18;
}
